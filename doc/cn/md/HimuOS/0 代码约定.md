# C 代码约定

## 命名

1. 变量、参数采用小写驼峰命名法
	- 全局变量和静态变量加 `g/k` 前缀
	- `const` 一概视为常量
2. 常量、宏、枚举量、类型、`typedef` 一概采用全大写下划线命名法
3. 函数、字段大写驼峰命名法

## 规则

1. 所有变量都应该推迟到在使用前一刻被初始化或者声明；假如变量会在紧接的 `for` 初始化中立刻使用，初始化可以被忽略
2. 所有结构体都应该在使用前自行使用 `memset` 清0
3. 较大函数的各个子逻辑可以隔行书写
4. 所有返回值都必须检查，否则必须使用 `(void)` 显式忽略
5. 源码文件的函数的前置声明和后定义必须保证顺序一致
6. 所有源码文件中函数都必须是 `static` 的
7. 所有有原始地址含义的变量必须显式写出 `phys/virt` 表出其性质
8. 禁止递归
9. 函数参数超过4个以上必须使用结构体传递
10. 所有代码必须在 C 语言或者内嵌汇编范围使用，禁用外部汇编